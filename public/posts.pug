extends layout
block content
  section(class="section")
    div(class="container")
      if !posts
        div(class="has-text-centered")
          i(class="fas fa-spinner fa-spin fa-lg fa-fw") 
          span(class="sr-only") Loading...
      if posts
        div(class="grid")
          each post, key in posts
            div(class="grid-item")
              div(class="card boxRide")
                div(class="card-image")
                  figure(class="image")
                    if post.postImage
                      a(href="/post/" + post.postLink)
                        img(src="https://" + xbData.xbUrl + "/client/" + xbData.xbUser + "/" + xbData.xbProject + "/?type=media&request=" + post.postImage + "&appid=" + xbData.xbAppID + "&size=medium")
                    else
                      a(heref="/post/" + post.postLink)
                        img(src="/images/codingRide.png")
                div(class="card-content")
                  div(class="content")
                    p
                      a(href="/post/" + post.postLink class="title posts-title is-size-4-touch is-size-3-widescreen") #{post.postTitle}
                      small(class="is-pulled-right") #{tools.timeToDate(post.postDate)}
        div(class="columns")
          div(class="column")
            if !gotPosts
              div(class="has-text-centered")
                i(class="fas fa-spinner fa-spin fa-lg fa-fw")
                span(class="sr-only") Loading...
            if gotPosts
              nav(class="level")
                a(onclick="loadPosts" class="level-item has-text-primary")
                  span(class="icon")
                    i(class="fas fa-lg fa-redo-alt")
                    